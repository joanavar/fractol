# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: joanavar <joanavar@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2024/05/29 21:12:52 by joanavar          #+#    #+#              #
#    Updated: 2024/07/31 17:27:23 by joanavar         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME 		= 		fractol
RM 			= 		rm -f

###############################################################################
#									COMPILER								  #
###############################################################################

CC 		= 	gcc
CFLAGS  = -Wall -Wextra -Werror -I/usr/include -Imlx_linux -O3
LFLAGS  = -Lmlx_linux -lmlx_Linux -L/usr/lib -Imlx_linux -lXext -lX11 -lm -lz

###############################################################################
#									SRC										  #
###############################################################################

SRC 	= events.c fractol.c init.c math_utils.c rende.c utils.c  
OBJ 	= $(SRC:.c=.o)
OBJ_D	= $(SRC:.c=.d)
HEADER	= fractol.h

###############################################################################
#						          SRC BONUS			   						  #
###############################################################################



###############################################################################
#									INCLUDES									  #
###############################################################################



###############################################################################
#									RULES									  #
###############################################################################

%.o: %.c $(HEADER) Makefile mlx_linux/libmlx_Linux.a
	$(CC) $(CCFLAGS) -c $< -o $@

all: make_libs $(NAME) 

make_libs:
	@make -C mlx_linux --no-print-directory

$(NAME): $(OBJ)
	$(CC) $(OBJ) $(LFLAGS) -o $(NAME)

clean:
	$(RM) $(OBJ) $(OBJ_D)
	@make clean -C ./mlx_linux

fclean: clean
	$(RM) $(NAME)

re: fclean all

.PHONY: all clean fclean re
